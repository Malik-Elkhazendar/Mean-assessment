<div class="forgot-password-container">
  <div class="forgot-password-content">
    <!-- Simple Brand Header -->
    <div class="brand-header">
      <div class="brand-text">
        <h1 class="brand-name">{{ forgotPasswordTitle }}</h1>
        <p class="brand-tagline">{{ forgotPasswordSubtitle }}</p>
      </div>
    </div>

    <!-- Form Container using ui-card -->
    <ui-card
      [variant]="'elevated'"
      [elevation]="2"
      [hoverable]="false"
      [dense]="false"
      class="forgot-password-card">

      <!-- Loading State -->
      <ui-spinner 
        *ngIf="isLoading$ | async" 
        [message]="loadingMessage">
      </ui-spinner>

      <!-- Success Message -->
      <ui-alert 
        *ngIf="(successMessage$ | async) && ((isLoading$ | async) === false)" 
        type="success"
        [message]="(successMessage$ | async)!">
      </ui-alert>

      <!-- Error Alert -->
      <ui-alert 
        *ngIf="(error$ | async) && ((isLoading$ | async) === false)"
        type="error"
        [message]="(error$ | async)!"
        [dismissible]="true"
        (dismissed)="clearError()">
      </ui-alert>

      <!-- Forgot Password Form -->
      <form 
        *ngIf="((isLoading$ | async) === false) && ((successMessage$ | async) === null || (successMessage$ | async) === undefined)"
        [formGroup]="forgotForm" 
        (ngSubmit)="onSubmit()" 
        class="forgot-password-form fade-in">
        
        <ui-form-input
          [label]="emailLabel"
          type="email"
          [required]="true"
          [autocomplete]="'off'"
          [formControl]="emailControl"
          [error]="getFieldError('email')"
          icon="email">
        </ui-form-input>

        <div class="form-actions">
          <ui-button
            [variant]="'raised'"
            [color]="'primary'"
            [content]="sendResetLinkText"
            [disabled]="(isLoading$ | async) ?? false"
            [loading]="(isLoading$ | async) ?? false"
            [fullWidth]="true"
            [type]="'button'"
            (buttonClick)="onSubmit()">
          </ui-button>
          
          <div class="divider" aria-hidden="true">
            <span class="divider-text">or</span>
          </div>
          
          <ui-button
            [variant]="'outlined'"
            [color]="'primary'"
            [content]="backToSignInText"
            routerLink="/auth/login"
            [fullWidth]="true"
            [type]="'button'">
          </ui-button>
        </div>
      </form>

      <!-- Success Action -->
      <div *ngIf="(successMessage$ | async) && ((isLoading$ | async) === false)" class="success-actions">
        <ui-button
          [variant]="'raised'"
          [color]="'primary'"
          [content]="backToSignInText"
          routerLink="/auth/login"
          [fullWidth]="true"
          [type]="'button'">
        </ui-button>
      </div>
    </ui-card>
  </div>
</div>